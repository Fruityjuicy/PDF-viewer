"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=e(require("@babel/runtime/helpers/typeof")),a=e(require("@babel/runtime/helpers/classCallCheck")),n=e(require("@babel/runtime/helpers/createClass")),s=e(require("@babel/runtime/helpers/possibleConstructorReturn")),r=e(require("@babel/runtime/helpers/getPrototypeOf")),i=e(require("@babel/runtime/helpers/assertThisInitialized")),l=e(require("@babel/runtime/helpers/inherits")),o=require("react"),c=e(o),u=e(require("prop-types")),m=e(require("@babel/runtime/regenerator")),d=e(require("@babel/runtime/helpers/asyncToGenerator")),h=e(require("@babel/runtime/helpers/slicedToArray")),p=e(require("pdfjs-dist")),g=e(require("pdfjs-dist/build/pdf.worker.entry")),b=e(require("@babel/runtime/helpers/defineProperty")),f=function(e){var t=e.message;return c.createElement("div",{className:"columns has-text-danger has-margin-top-5 is-mobile"},c.createElement("div",{className:"column is-4 has-text-right has-padding-5"},c.createElement("span",{className:"icon"},c.createElement("i",{className:"material-icons"},"error_outline"))),c.createElement("div",{className:"column is-8 has-text-left has-padding-5"},c.createElement("small",null,t)))};function v(e){var t=o.useRef();return o.useEffect((function(){t.current=e})),t.current}f.propTypes={message:u.string.isRequired},p.GlobalWorkerOptions.workerSrc=g;var R=function(e){var t=e.document,a=e.withCredentials,n=e.password,s=e.pageNum,r=e.scale,i=e.rotation,l=e.pageCount,u=e.changePage,g=e.showThumbnail,b=e.protectContent,R=e.watermark,E=e.alert,y=e.canvasCss,x=o.useState(null),w=h(x,2),k=w[0],C=w[1],N=o.useState(null),S=h(N,2),P=S[0],q=S[1],Z=o.useState({status:!1,message:""}),A=h(Z,2),O=A[0],T=A[1],B=o.useRef(null),I=o.useRef(null),j=o.useRef(null),D=o.useState([]),z=h(D,2),L=z[0],_=z[1],F=v(t),M=v(n),W=E||f,H=function(){var e=d(m.mark((function e(){var s,r,i;return m.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null,r=null,e.prev=2,JSON.stringify(F)===JSON.stringify(t)&&M.base64===n.url){e.next=16;break}return i={withCredentials:a,password:n},null==t.url?i.data=atob(t.base64):i.url=t.url,e.next=8,p.getDocument(i).promise;case 8:return s=e.sent,e.next=11,G(s);case 11:r=e.sent,l(s.numPages),J(r),C(s),q(r);case 16:return e.next=18,V(s);case 18:e.next=25;break;case 20:e.prev=20,e.t0=e.catch(2),console.warn("Error while opening the document !\n",e.t0),l(-1),T({status:!0,message:"Error while opening the document !"});case 25:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=d(m.mark((function e(){var t,a,n,o,c,u,d,h,p,g,b,f,v,E,y,x,w=arguments;return m.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=w.length>0&&void 0!==w[0]?w[0]:null)&&(t=k),e.prev=2,e.next=5,t.getPage(s);case 5:return a=e.sent,n=a.getViewport({scale:r,rotation:i}),(o=B.current).height=n.height,o.width=n.width,(c=o.getContext("2d")).clearRect(0,0,o.width,o.height),c.beginPath(),u={canvasContext:c,viewport:n},d=a.render(u),e.prev=15,e.next=18,d.promise;case 18:0!==Object.entries(R).length&&(h=R.text,p=R.diagonal,g=R.opacity,b=R.font,f=R.size,v=R.color,c.globalAlpha=g,c.font="".concat(f*r,"px ").concat(""!==b?b:"Comic Sans MS"),c.fillStyle=v,E=c.measureText(h),y=E.width,x=f*r,c.translate(n.width/2,n.height/2),p&&c.rotate(-.785),c.fillText(h,-y/2,x/2)),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(15),console.warn("Error occured while rendering !\n",e.t0),l(-1),T({status:!0,message:"Error occured while rendering !"});case 26:e.next=33;break;case 28:e.prev=28,e.t1=e.catch(2),console.warn("Error while reading the pages !\n",e.t1),l(-1),T({status:!0,message:"Error while reading the pages !"});case 33:case"end":return e.stop()}}),e,null,[[2,28],[15,21]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=d(m.mark((function e(t){var a,n,s,r,i,l,o,c,u,d,h,p,b,f,v,E,y,x,w;return m.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],0===Object.entries(g).length){e.next=27;break}n=.1,s=0,1<=g.scale&&g.scale<=5&&(n=g.scale/10),-90!==g.rotationAngle&&90!==g.rotationAngle||(s=g.rotationAngle),r=1;case 7:if(!(r<=t.numPages)){e.next=27;break}return e.next=10,t.getPage(r);case 10:return i=e.sent,l=i.getViewport({scale:n,rotation:s}),(o=I.current).height=l.height,o.width=l.width,(c=o.getContext("2d")).clearRect(0,0,o.width,o.height),c.beginPath(),u={canvasContext:c,viewport:l},d=i.render(u),e.next=22,d.promise;case 22:0!==Object.entries(R).length&&(h=R.text,p=R.diagonal,b=R.opacity,f=R.font,v=R.size,E=R.color,c.globalAlpha=b,c.font="".concat(v*n,"px ").concat(""!==f?f:"Comic Sans MS"),c.fillStyle=E,y=c.measureText(h),x=y.width,w=v*n,c.translate(l.width/2,l.height/2),p&&c.rotate(-.785),c.fillText(h,-x/2,w/2)),a.push({image:o.toDataURL("image/png"),height:l.height,width:l.width});case 24:r++,e.next=7;break;case 27:return e.abrupt("return",a);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e){if(0!==Object.entries(g).length&&null!==e){for(var t=[],a=function(a){var n=e[a-1].image,r="",i={height:e[a-1].height,width:e[a-1].width,display:"flex",cursor:"pointer"};g.thumbCss&&g.selectedThumbCss?r=s===a?g.selectedThumbCss:g.thumbCss:s===a?(i.margin="10px 20px",i.border="5px solid rgba(58, 58, 64, 1)",i.boxShadow="rgba(0, 0, 0, 0.6) 0 4px 8px 0, rgba(0, 0, 0, 0.58) 0 6px 20px 0"):(i.margin="15px 25px",i.boxShadow="rgba(0, 0, 0, 0.6) 0px 2px 2px 0px"),t.push(c.createElement("img",{style:i,className:r,onClick:function(){return u(a)},ref:s===a?j:null,key:a,alt:"thumbnail of page ".concat(a),src:n}))},n=1;n<=e.length;n++)a(n);t.push(c.createElement("div",{key:0,style:{padding:"0px 10px"}})),_(t)}};if(o.useEffect((function(){H()}),[t,n,s,r,i]),o.useEffect((function(){J(P),null!==j.current&&0!==Object.entries(g).length&&j.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}),[s]),0!==Object.entries(g).length){var U={backgroundColor:g.backgroundColor?g.backgroundColor:"#EAE6DA",display:"flex",flexDirection:"row",overflowX:"auto"};return g.onTop?c.createElement(c.Fragment,null,c.createElement("div",{className:y||"",style:y?{}:{height:"1000px",overflow:"auto"}},c.createElement("div",{style:O.status?{display:"block"}:{display:"none"}},c.createElement(W,{message:O.message})),c.createElement("div",{style:U},L),c.createElement("canvas",{style:O.status?{display:"none"}:null,onContextMenu:function(e){return b?e.preventDefault():null},ref:B,width:"undefined"!=typeof window&&window.innerWidth,height:"undefined"!=typeof window&&window.innerHeight})),c.createElement("canvas",{ref:I,style:{display:"none"}})):c.createElement(c.Fragment,null,c.createElement("div",{className:y||"",style:y?{}:{height:"1000px",overflow:"auto"}},c.createElement("div",{style:O.status?{display:"block"}:{display:"none"}},c.createElement(W,{message:O.message})),c.createElement("canvas",{style:O.status?{display:"none"}:null,onContextMenu:function(e){return b?e.preventDefault():null},ref:B,width:"undefined"!=typeof window&&window.innerWidth,height:"undefined"!=typeof window&&window.innerHeight})),c.createElement("div",{style:U},L),c.createElement("canvas",{ref:I,style:{display:"none"}}))}return c.createElement("div",null,c.createElement("div",{className:y||"",style:y?{}:{height:"1000px",overflow:"auto"}},c.createElement("div",{style:O.status?{display:"block"}:{display:"none"}},c.createElement(W,{message:O.message})),c.createElement("canvas",{style:O.status?{display:"none"}:null,onContextMenu:function(e){return b?e.preventDefault():null},ref:B,width:"undefined"!=typeof window&&window.innerWidth,height:"undefined"!=typeof window&&window.innerHeight})))};R.propTypes={document:u.any.isRequired,withCredentials:u.bool,password:u.string,pageNum:u.number.isRequired,scale:u.number.isRequired,rotation:u.number.isRequired,changePage:u.func,pageCount:u.func,showThumbnail:u.shape({scale:u.number,rotationAngle:u.number,onTop:u.bool,backgroundColor:u.string,thumbCss:u.string,selectedThumbCss:u.string}),protectContent:u.bool,watermark:u.shape({text:u.string,diagonal:u.bool,opacity:u.string,size:u.string,color:u.string}),canvasCss:u.string},R.defaultProps={changePage:function(){},pageCount:function(){},showThumbnail:{},protectContent:!1,watermark:{},canvasCss:""};var E=function(e){var t=e.css,a=e.page,n=e.pages,s=e.handleNextClick,r=t||"button is-black is-marginless";return a===n?c.createElement("button",{className:r,disabled:!0},c.createElement("span",{className:"icon is-small"},c.createElement("i",{className:"material-icons"},"keyboard_arrow_right"))):c.createElement("button",{className:r,onClick:s},c.createElement("span",{className:"icon is-small"},c.createElement("i",{className:"material-icons"},"keyboard_arrow_right")))};E.propTypes={css:u.string,page:u.number.isRequired,pages:u.number.isRequired,handleNextClick:u.func.isRequired};var y=function(e){var t=e.css,a=e.page,n=e.pages,s=t||"is-size-7 is-vcentered has-text-centered is-inline-flex has-padding-top-5 button is-black is-marginless has-margin-left-5 has-margin-right-5";return c.createElement("span",{className:s},"Page ".concat(a," / ").concat(n))};y.propTypes={css:u.string,page:u.number.isRequired,pages:u.number.isRequired};var x=function(e){var t=e.css,a=e.page,n=e.handlePrevClick,s=t||"button is-black is-marginless";return 1===a?c.createElement("button",{className:s,disabled:!0},c.createElement("span",{className:"icon is-small"},c.createElement("i",{className:"material-icons"},"keyboard_arrow_left"))):c.createElement("button",{className:s,onClick:n},c.createElement("span",{className:"icon is-small"},c.createElement("i",{className:"material-icons"},"keyboard_arrow_left")))};x.propTypes={css:u.string,page:u.number.isRequired,handlePrevClick:u.func.isRequired};var w=function(e){var t=e.css,a=e.scale,n=e.defaultScale,s=e.maxScale,r=e.handleZoomIn,i=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5",l=s;return n>s&&(l=n),a.toFixed(2)===l.toFixed(2)?c.createElement("button",{className:i,disabled:!0},c.createElement("span",{className:"icon is-small"},c.createElement("i",{className:"material-icons"},"zoom_in"))):c.createElement("button",{className:i,onClick:r},c.createElement("span",{className:"icon is-small"},c.createElement("i",{className:"material-icons"},"zoom_in")))};w.propTypes={css:u.string,scale:u.number.isRequired,defaultScale:u.number.isRequired,maxScale:u.number.isRequired,handleZoomIn:u.func.isRequired};var k=function(e){var t=e.css,a=e.scale,n=e.defaultScale,s=e.minScale,r=e.handleZoomOut,i=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5",l=s;return n<s&&(l=n),a.toFixed(2)===l.toFixed(2)?c.createElement("button",{className:i,disabled:!0},c.createElement("span",{className:"icon is-small"},c.createElement("i",{className:"material-icons"},"zoom_out"))):c.createElement("button",{className:i,onClick:r},c.createElement("span",{className:"icon is-small"},c.createElement("i",{className:"material-icons"},"zoom_out")))};k.propTypes={css:u.string,scale:u.number.isRequired,defaultScale:u.number.isRequired,minScale:u.number.isRequired,handleZoomOut:u.func.isRequired};var C=function(e){var t=e.css,a=e.scale,n=e.defaultScale,s=e.handleResetZoom,r=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5";return a.toFixed(2)===n.toFixed(2)?c.createElement("button",{className:r,disabled:!0},c.createElement("span",{className:"icon is-small"},c.createElement("i",{className:"material-icons"},"refresh"))):c.createElement("button",{className:r,onClick:s},c.createElement("span",{className:"icon is-small"},c.createElement("i",{className:"material-icons"},"refresh")))};C.propTypes={css:u.string,scale:u.number.isRequired,defaultScale:u.number.isRequired,handleResetZoom:u.func.isRequired};var N=function(e){var t=e.css,a=e.rotationAngle,n=e.handleRotateLeft,s=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5";return-90===a?c.createElement("button",{className:s,disabled:!0},c.createElement("span",{className:"icon is-small"},c.createElement("i",{className:"material-icons"},"rotate_left"))):c.createElement("button",{className:s,onClick:n},c.createElement("span",{className:"icon is-small"},c.createElement("i",{className:"material-icons"},"rotate_left")))};N.propTypes={css:u.string,rotationAngle:u.number.isRequired,handleRotateLeft:u.func.isRequired};var S=function(e){var t=e.css,a=e.rotationAngle,n=e.handleResetRotation,s=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5";return 0===a?c.createElement("button",{className:s,disabled:!0},c.createElement("span",{className:"icon is-small"},c.createElement("i",{className:"material-icons"},"refresh"))):c.createElement("button",{className:s,onClick:n},c.createElement("span",{className:"icon is-small"},c.createElement("i",{className:"material-icons"},"refresh")))};S.propTypes={css:u.string,rotationAngle:u.number.isRequired,handleResetRotation:u.func.isRequired};var P=function(e){var t=e.css,a=e.rotationAngle,n=e.handleRotateRight,s=t||"button is-black is-marginless has-margin-left-5 has-margin-right-5";return 90===a?c.createElement("button",{className:s,disabled:!0},c.createElement("span",{className:"icon is-small"},c.createElement("i",{className:"material-icons"},"rotate_right"))):c.createElement("button",{className:s,onClick:n},c.createElement("span",{className:"icon is-small"},c.createElement("i",{className:"material-icons"},"rotate_right")))};P.propTypes={css:u.string,rotationAngle:u.number.isRequired,handleRotateRight:u.func.isRequired};var q=function(e){var t=e.page,a=e.pages,n=e.scale,s=e.defaultScale,r=e.maxScale,i=e.minScale,l=e.rotationAngle,o=e.hideZoom,u=e.hideRotation,m=e.css,d=e.handlePrevClick,h=e.handleNextClick,p=e.handleZoomIn,g=e.handleResetZoom,b=e.handleZoomOut,f=e.handleRotateLeft,v=e.handleResetRotation,R=e.handleRotateRight;return c.createElement("div",{className:"columns is-gapless ".concat(m.navbarWrapper||"box is-mobile has-text-white has-background-black has-margin-top-15 has-margin-bottom-15")},o?c.createElement("div",{className:"column is-2"}):c.createElement("div",{className:"column is-2 buttons are-small has-addons"},c.createElement(k,{scale:n,minScale:i,defaultScale:s,css:m.zoomOutBtn,handleZoomOut:b}),c.createElement(C,{scale:n,defaultScale:s,css:m.resetZoomBtn,handleResetZoom:g}),c.createElement(w,{scale:n,maxScale:r,defaultScale:s,css:m.zoomInBtn,handleZoomIn:p})),c.createElement("div",{className:"column"}),c.createElement("div",{className:"column is-3 buttons are-small has-addons is-centered"},c.createElement(x,{css:m.previousPageBtn,page:t,pages:a,handlePrevClick:d}),c.createElement(y,{css:m.pageIndicator,page:t,pages:a}),c.createElement(E,{css:m.nextPageBtn,page:t,pages:a,handleNextClick:h})),c.createElement("div",{className:"column"}),u?c.createElement("div",{className:"column is-2"}):c.createElement("div",{className:"column is-2 buttons are-small has-addons is-right"},c.createElement(N,{css:m.rotateLeftBtn,rotationAngle:l,handleRotateLeft:f}),c.createElement(S,{css:m.resetRotationBtn,rotationAngle:l,handleResetRotation:v}),c.createElement(P,{css:m.rotateRightBtn,rotationAngle:l,handleRotateRight:R})))};function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}q.propTypes={page:u.number.isRequired,pages:u.number.isRequired,scale:u.number,defaultScale:u.number,maxScale:u.number,minScale:u.number,rotationAngle:u.number,hideZoom:u.bool,hideRotation:u.bool,css:u.shape({navbarWrapper:u.string,pages:u.string,pageIndicator:u.string,previousPageBtn:u.string,nextPageBtn:u.string,zoomOutBtn:u.string,resetZoomBtn:u.string,zoomInBtn:u.string,rotateLeftBtn:u.string,resetRotationBtn:u.string,rotateRightBtn:u.string}),elements:u.shape({previousPageBtn:u.any,nextPageBtn:u.any,pages:u.any}),handlePrevClick:u.func.isRequired,handleNextClick:u.func.isRequired,handleZoomIn:u.func.isRequired,handleResetZoom:u.func.isRequired,handleZoomOut:u.func.isRequired,handleRotateLeft:u.func.isRequired,handleResetRotation:u.func.isRequired,handleRotateRight:u.func.isRequired},q.defaultProps={css:{},elements:{}};var O={display:"inline-block",verticalAlign:"text-bottom",backgroundColor:"currentColor",borderRadius:"50%",opacity:0,width:"0.5rem",height:"0.5rem",animationDuration:"0.75s",animationTimingFunction:"linear",animationIterationCount:"infinite",animationDirection:"normal",animationFillMode:"none",animationPlayState:"running",animationName:"spinner-grow"},T=A({},O,{animationDelay:"0s"}),B=A({},O,{animationDelay:"0.25s"}),I=A({},O,{animationDelay:"0.5s"}),j=function(){return c.createElement("div",{className:"flex-row has-margin-10 justify-center align-items-flex-end"},c.createElement("p",{className:"is-size-3 flex-column is-marginless"},"Loading"),c.createElement("div",{className:"flex-column has-padding-10"},c.createElement("div",{style:T})),c.createElement("div",{className:"flex-column has-padding-10"},c.createElement("div",{style:B})),c.createElement("div",{className:"flex-column has-padding-10"},c.createElement("div",{style:I})))};try{require("bulma/css/bulma.css"),require("bulma-helpers/css/bulma-helpers.min.css"),require("material-design-icons/iconfont/material-icons.css")}catch(e){}var D=function(e){function o(e){var t;return a(this,o),(t=s(this,r(o).call(this,e))).state={page:t.props.page,prevPropPage:t.props.page,scale:t.props.scale,prevPropScale:t.props.scale,rotationAngle:t.props.rotationAngle,prevPropRotationAngle:t.props.rotationAngle,pages:0,defaultScale:t.props.scale,isReady:!1},t.getPageCount=t.getPageCount.bind(i(t)),t.handleThumbnailClick=t.handleThumbnailClick.bind(i(t)),t.handlePrevClick=t.handlePrevClick.bind(i(t)),t.handleNextClick=t.handleNextClick.bind(i(t)),t.handleZoomIn=t.handleZoomIn.bind(i(t)),t.handleResetZoom=t.handleResetZoom.bind(i(t)),t.handleZoomOut=t.handleZoomOut.bind(i(t)),t.handleRotateLeft=t.handleRotateLeft.bind(i(t)),t.handleResetRotation=t.handleResetRotation.bind(i(t)),t.handleRotateRight=t.handleRotateRight.bind(i(t)),t}return l(o,e),n(o,[{key:"getPageCount",value:function(e){this.state.pages!==e&&(this.setState({pages:e,isReady:!0}),this.props.getMaxPageCount&&this.props.getMaxPageCount(e))}},{key:"handleThumbnailClick",value:function(e){this.state.page!==e&&this.setState({page:e})}},{key:"handlePrevClick",value:function(){1!==this.state.page&&(this.setState((function(e){return{page:e.page-1}})),this.props.onPrevBtnClick&&this.props.onPrevBtnClick(this.state.page-1))}},{key:"handleNextClick",value:function(){this.state.page!==this.pages&&(this.setState((function(e){return{page:e.page+1}})),this.props.onNextBtnClick&&this.props.onNextBtnClick(this.state.page+1))}},{key:"handleZoomIn",value:function(){var e=this.props.maxScale;this.state.defaultScale>this.props.maxScale&&(e=this.state.defaultScale),this.state.scale<e&&this.setState((function(e,t){return{scale:e.scale+t.scaleStep}})),this.props.onZoom&&this.props.onZoom(this.state.scale+this.props.scaleStep)}},{key:"handleResetZoom",value:function(){this.setState((function(e){return{scale:e.defaultScale}})),this.props.onZoom&&this.props.onZoom(this.state.defaultScale)}},{key:"handleZoomOut",value:function(){var e=this.props.minScale;this.state.defaultScale<this.props.minScale&&(e=this.state.defaultScale),this.state.scale>e&&this.setState((function(e,t){return{scale:e.scale-t.scaleStep}})),this.props.onZoom&&this.props.onZoom(this.state.scale-this.props.scaleStep)}},{key:"handleRotateLeft",value:function(){-90!==this.state.rotationAngle&&this.setState({rotationAngle:-90}),this.props.onRotation&&this.props.onRotation(-90)}},{key:"handleResetRotation",value:function(){0!==this.state.rotationAngle&&this.setState({rotationAngle:0}),this.props.onRotation&&this.props.onRotation(0)}},{key:"handleRotateRight",value:function(){90!==this.state.rotationAngle&&this.setState({rotationAngle:90}),this.props.onRotation&&this.props.onRotation(90)}},{key:"render",value:function(){var e=this,a=this.props,n=a.document,s=a.withCredentials,r=a.password,i=a.loader,l=a.maxScale,o=a.minScale,u=a.externalInput,m=a.hideNavbar,d=a.hideZoom,h=a.hideRotation,p=a.navbarOnTop,g=a.navigation,b=a.css,f=a.canvasCss,v=a.onDocumentClick,E=a.showThumbnail,y=a.protectContent,x=a.watermark,w=a.alert,k=this.state,C=k.page,N=k.pages,S=k.scale,P=k.defaultScale,Z=k.rotationAngle,A=g,O=c.createElement(R,{document:n,withCredentials:s,password:r,pageNum:C,scale:S,rotation:Z,changePage:function(t){return e.handleThumbnailClick(t)},pageCount:function(t){return e.getPageCount(t)},showThumbnail:E,protectContent:y,watermark:x,alert:w,canvasCss:f}),T=null,B=m;return u&&(B=!0),!B&&N>0&&(T=g&&"object"!==t(g)?c.createElement(A,{page:C,pages:N,scale:S,defaultScale:P,maxScale:l,minScale:o,rotationAngle:Z,hideZoom:d,hideRotation:h,handleNextClick:this.handleNextClick,handlePrevClick:this.handlePrevClick,handleZoomIn:this.handleZoomIn,handleResetZoom:this.handleResetZoom,handleZoomOut:this.handleZoomOut,handleRotateLeft:this.handleRotateLeft,handleResetRotation:this.handleResetRotation,handleRotateRight:this.handleRotateRight}):c.createElement(q,{page:C,pages:N,scale:S,defaultScale:P,maxScale:l,minScale:o,rotationAngle:Z,hideZoom:d,hideRotation:h,css:g?g.css:void 0,handleNextClick:this.handleNextClick,handlePrevClick:this.handlePrevClick,handleZoomIn:this.handleZoomIn,handleResetZoom:this.handleResetZoom,handleZoomOut:this.handleZoomOut,handleRotateLeft:this.handleRotateLeft,handleResetRotation:this.handleResetRotation,handleRotateRight:this.handleRotateRight})),c.createElement("div",{className:b||"container text-center"},c.createElement("div",{style:{display:this.state.isReady?"none":"block"}},c.createElement("div",{className:f||"",style:f?{}:{height:"1000px",overflow:"auto"}},i||c.createElement(j,null))),c.createElement("div",{style:{display:this.state.isReady?"block":"none"}},p?c.createElement("div",null,c.createElement("div",null,T),c.createElement("div",{onClick:v},O)):c.createElement("div",null,c.createElement("div",{onClick:v},O),c.createElement("div",null,T))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.externalInput?e.page!==t.prevPropPage&&1<=e.page&&e.page<=t.pages?{page:e.page,prevPropPage:e.page}:e.scale!==t.prevPropScale&&e.minScale<=e.scale&&e.scale<=e.maxScale?{scale:e.scale,prevPropScale:e.scale}:e.rotationAngle===t.prevPropRotationAngle||90!==e.rotationAngle&&0!==e.rotationAngle&&-90!==e.rotationAngle?null:{rotationAngle:e.rotationAngle,prevPropRotationAngle:e.rotationAngle}:null}}]),o}(c.Component);D.propTypes={document:u.shape({url:u.string,base64:u.string}).isRequired,withCredentials:u.bool,password:u.string,loader:u.node,externalInput:u.bool,page:u.number,scale:u.number,scaleStep:u.number,maxScale:u.number,minScale:u.number,css:u.string,canvasCss:u.string,rotationAngle:u.number,onDocumentClick:u.func,onPrevBtnClick:u.func,onNextBtnClick:u.func,onZoom:u.func,onRotation:u.func,getMaxPageCount:u.func,hideNavbar:u.bool,navbarOnTop:u.bool,hideZoom:u.bool,hideRotation:u.bool,showThumbnail:u.shape({scale:u.number,rotationAngle:u.number,onTop:u.bool,backgroundColor:u.string,thumbCss:u.string,selectedThumbCss:u.string}),protectContent:u.bool,watermark:u.shape({text:u.string,diagonal:u.bool,opacity:u.string,font:u.string,size:u.string,color:u.string}),alert:u.any,navigation:u.oneOfType([u.shape({css:u.shape({navbarWrapper:u.string,zoomOutBtn:u.string,resetZoomBtn:u.string,zoomInBtn:u.string,previousPageBtn:u.string,pageIndicator:u.string,nextPageBtn:u.string,rotateLeftBtn:u.string,resetRotationBtn:u.string,rotateRightBtn:u.string})}),u.any])},D.defaultProps={page:1,withCredentials:!1,password:"",scale:1,scaleStep:1,maxScale:3,minScale:1,rotationAngle:0,externalInput:!1,hideNavbar:!1,hideZoom:!1,hideRotation:!1,navbarOnTop:!1,canvasCss:""},module.exports=D;
